<!DOCTYPE html>
<html>
	<head>
		<title>Collect'IF - Page de visualisation - Administrateur</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		
		<style>
            #map {
				height: 500px;
				width: 100%;
			}
        </style>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		
		
	</head>
	<body>
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">Administrateur</a>
				</div>
			<ul class="nav navbar-nav">
				<li><a href="./admin-accueil.html">Accueil</a></li>
				<li class="active"><a href="admin-carte.html">Carte</a></li>
			</ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="./ActionServlet?todo=deconnexion"><span class="glyphicon glyphicon-log-out"></span> Déconnexion</a></li>
			</ul>
			</div>
		</nav><br>

		<div class="container">
			<div class="row">
				<div class="col-sm-3 text-center">
					<button id="boutonEnleverLieux" type="button" class="btn margin-bottom-5">Enlever les lieux</button>
					<br/> <br/>
					<button id="boutonAfficherLieux" type="button" class="btn">Afficher les lieux</button>
					<br/> <br/> <br/>
					<div class="input-group text-center">
						<span class="input-group-addon">ID évènement</span>
						<input id="idEvenement" type="text" class="form-control" placeholder="id">
					</div>
					<br/>
					<button id="boutonAfficherParticipants" type="button" class="btn">Afficher les participants</button>
					<br/><br/>
				</div>
				<div class="col-sm-9 text-center">
					<div id="map"></div>
				</div>
			</div>
		</div>
		
		<script type="text/javascript">

            var map;

			function initMap() {
				var lyon = {lat: 45.761018, lng: 4.868219};
				map = new google.maps.Map(document.getElementById('map'), {
					zoom: 12,
					center: lyon
				});
				var marker = new google.maps.Marker({
					position: lyon,
					map: map
				});
			 }
                         
                         
                         
                         
                         
                         
            $( "#boutonAfficherParticipants" ).click(function() {
                $('#message').html('Chargement des positions ..');
                $.ajax({
                    url: './ActionServlet',
                    type: 'POST',
                    data: {
                        todo: 'getLieuxParticipants',
                        idEvenement: $("#idEvenement").val(),
                    },
                    dataType: 'text'
                })
                .done(function(data) {
                    // PAR RAPPORT A LA CARTE
                    
                })
                .fail(function() {
                    $('#message').html('ERREUR Serveur : veuillez recommencer');
                })
                .always(function() {
                    //
                });

            });
			
        </script>
		
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAklw96N9rLd93ubr-F04CN7qi2ryKayAc&callback=initMap">
        </script>
		
		
	</body>
</html>
